<!DOCTYPE html>
<html>
<head>
<title>高考志愿填报智能指导系统</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
<link rel="stylesheet" href="https://res.wx.qq.com/open/libs/weui/1.1.2/weui.min.css">
<script type="text/javascript" src="https://res.wx.qq.com/open/libs/weuijs/1.1.3/weui.min.js"></script>
<link rel="stylesheet" href="css/app.css">
</head>
<body ontouchstart>
<div class="container">
   
   <div class="weui-flex">
            <div class="weui-flex__item"><div class="placeholder">志愿填报</div></div>
        </div>
    <div id="reg_form" class="weui-cells weui-cells_form" style="margin-top: 0px;">
	        <div class="weui-cell">
				<div class="weui-cell__hd"><label class="weui-label">高考分数</label></div>
				<div class="weui-cell__bd">
					<input  class="weui-input" type="number" required pattern="^[0-9]{1,3}$" placeholder="输入你的高考分数" emptyTips="请输入高考分数">
				</div>
				<div class="weui-cell__ft">
					<i class="weui-icon-warn"></i>
				</div>
			</div>
	
	      
			<div class="weui-cell weui-cell_select weui-cell_select-after">
                <div class="weui-cell__hd">
                    <label for="" class="weui-label">文理科</label>
                </div>
                <div class="weui-cell__bd">
                    <select class="weui-select" name="select2">
                        <option value="1">文科</option>
                        <option value="2">理科</option>
                    </select>
                </div>
            </div>

			<div class="weui-cell weui-cell_select weui-cell_select-after">
                <div class="weui-cell__hd">
                    <label for="" class="weui-label">批次</label>
                </div>
                <div class="weui-cell__bd">
                    <select class="weui-select" name="select2">
                        <option value="1">一本</option>
                        <option value="2">二本</option>
						<option value="2">高职</option>
                    </select>
                </div>
            </div>

		    <div class="weui-cell" style="padding-top: 0px; padding-bottom: 0px;padding-right: 0px;">
				<a id="area-list" class="weui-cell weui-cell_access" href="javascript:;"style = "margin-top: 0px;;width: 100%;padding-left: 0px;">
                <div id="zhuanyie" class="weui-cell__bd">
                    <p>地区</p>
                </div>
				<div>最多选择6个(已选<span id="area_number">6</span>个)</div>
                <div class="weui-cell__ft"><i class="weui-icon-warn"></i></div>
               </a>
			</div>
			<div style="display: none" id="area-item-template">
			   <div class="weui-cell select-item select-area-item" style="padding-left: 30px;">
                <div class="weui-cell__bd">
                    <p>#name</p>
                </div><a class="weui-swiped-btn weui-swiped-btn_warn area-btn" style="padding-top: 1px; padding-bottom: 1px; padding-right: 2px;padding-left: 2px;">删除</a>
 			</div>
			</div>
			<div style="display: none" class="select-area-item"></div>
			<div class="weui-cell select-item select-area-item" style="padding-left: 30px;">
                <div class="weui-cell__bd">
                    <p>辽宁</p>
                </div><!-- <a class="weui-swiped-btn weui-swiped-btn_warn" style="padding-top: 1px; padding-bottom: 1px; padding-right: 2px;padding-left: 2px;">删除</a> -->
 			</div>
			<div  class="weui-cell select-item select-area-item" style="padding-left: 30px;">
                <div class="weui-cell__bd">
                    <p>北京</p>
                </div><a class="weui-swiped-btn weui-swiped-btn_warn area-btn" style="padding-top: 1px; padding-bottom: 1px; padding-right: 2px;padding-left: 2px;">删除</a>
 			</div>
			<div class="weui-cell select-item select-area-item" style="padding-left: 30px;">
                <div class="weui-cell__bd">
                    <p>上海</p>
                </div><a class="weui-swiped-btn weui-swiped-btn_warn area-btn"  style="padding-top: 1px; padding-bottom: 1px; padding-right: 2px;padding-left: 2px;">删除</a>
 			</div>
			<div class="weui-cell select-item select-area-item" style="padding-left: 30px;">
                <div class="weui-cell__bd">
                    <p>广州</p>
                </div><a class="weui-swiped-btn weui-swiped-btn_warn area-btn"  style="padding-top: 1px; padding-bottom: 1px; padding-right: 2px;padding-left: 2px;">删除</a>
 			</div>
			<div class="weui-cell select-item select-area-item" style="padding-left: 30px;">
                <div class="weui-cell__bd">
                    <p>山东</p>
                </div><a class="weui-swiped-btn weui-swiped-btn_warn area-btn"  style="padding-top: 1px; padding-bottom: 1px; padding-right: 2px;padding-left: 2px;">删除</a>
 			</div>
			<div class="weui-cell select-item select-area-item" style="padding-left: 30px;">
                <div class="weui-cell__bd">
                    <p>深圳</p>
                </div><a class="weui-swiped-btn weui-swiped-btn_warn area-btn"  style="padding-top: 1px; padding-bottom: 1px; padding-right: 2px;padding-left: 2px;">删除</a>
 			</div>
			
               
			<div class="weui-cell" style="padding-top: 0px; padding-bottom: 0px;padding-right: 0px;">
				<a id="professional-list" class="weui-cell weui-cell_access" href="javascript:;"style = "margin-top: 0px;;width: 100%;padding-left: 0px;">
                <div id="zhuanyie" class="weui-cell__bd">
                    <p>意愿专业</p>
                </div>
				<div>最多选择6个(已选<span id="professional_number">6</span>个)</div>
                <div class="weui-cell__ft"><i class="weui-icon-warn"></i></div>
               </a>
			</div>
			<div style="display: none" id="professional-item-template">
			    <div class="weui-cell select-item select-professional-item" style="padding-left: 30px;">
					<div class="weui-cell__bd">
						<p>#name</p>
					</div><a class="weui-swiped-btn weui-swiped-btn_warn professional-btn" href="javascript:" style="padding-top: 1px; padding-bottom: 1px; padding-right: 2px;padding-left: 2px;">删除</a>
				</div>
			</div>
			<div style="display: none" class="select-professional-item"></div>
			<div class="weui-cell select-item select-professional-item" style="padding-left: 30px;">
                <div class="weui-cell__bd">
                    <p>电气自动化类</p>
                </div><a class="weui-swiped-btn weui-swiped-btn_warn professional-btn" href="javascript:" style="padding-top: 1px; padding-bottom: 1px; padding-right: 2px;padding-left: 2px;">删除</a>
 			</div>
			<div class="weui-cell select-item select-professional-item" style="padding-left: 30px;">
                <div class="weui-cell__bd">
                    <p>机械类</p>
                </div><a class="weui-swiped-btn weui-swiped-btn_warn professional-btn" href="javascript:" style="padding-top: 1px; padding-bottom: 1px; padding-right: 2px;padding-left: 2px;">删除</a>
 			</div>
			<div class="weui-cell select-item select-professional-item" style="padding-left: 30px;">
                <div class="weui-cell__bd">
                    <p>计算机类</p>
                </div><a class="weui-swiped-btn weui-swiped-btn_warn professional-btn" href="javascript:" style="padding-top: 1px; padding-bottom: 1px; padding-right: 2px;padding-left: 2px;">删除</a>
 			</div>
			<div class="weui-cell select-item select-professional-item" style="padding-left: 30px;">
                <div class="weui-cell__bd">
                    <p>电子商务</p>
                </div><a class="weui-swiped-btn weui-swiped-btn_warn professional-btn" href="javascript:" style="padding-top: 1px; padding-bottom: 1px; padding-right: 2px;padding-left: 2px;">删除</a>
 			</div>
			<div class="weui-cell select-item select-professional-item" style="padding-left: 30px;">
                <div class="weui-cell__bd">
                    <p>物联网工程</p>
                </div><a class="weui-swiped-btn weui-swiped-btn_warn professional-btn" href="javascript:" style="padding-top: 1px; padding-bottom: 1px; padding-right: 2px;padding-left: 2px;">删除</a>
 			</div>
			<div class="weui-cell select-item select-professional-item" style="padding-left: 30px;">
                <div class="weui-cell__bd">
                    <p>哲学类</p>
                </div><a class="weui-swiped-btn weui-swiped-btn_warn professional-btn" href="javascript:" style="padding-top: 1px; padding-bottom: 1px; padding-right: 2px;padding-left: 2px;">删除</a>
 			</div>
    </div>
	<div class="weui-btn-area">
	   <a id="formSubmitBtn" href="javascript:" class="weui-btn weui-btn_primary btn-color">下一步</a>
	</div>
</div>

<script type="text/javascript" src="https://cdn.bootcss.com/zepto/1.2.0/zepto.min.js"></script>
<script type="text/javascript" src="./js/tabbar.js"></script>
<script type="text/javascript" src="./js/common.js"></script>
<!-- http://www.css88.com/doc/zeptojs_api/ -->
<script type="text/javascript">
function item_click(item_class, func){
	$('.'+item_class).each(function(index){
		 $(this).on('click', function(e){
			$(this).closest('div').remove();
			func();
		});
	 });
}

function area_number(){
  $('#area_number').text($('.select-area-item').size()-2);
}

function professional_number(){
  $('#professional_number').text($('.select-professional-item').size()-2);
}

function get_area_number(){
  return $('.select-area-item').size()-2;
}

function item_append(template_id, item_click_class, item_class, maps, func){
    item = $('#' + template_id).html();
	
	maps.forEach(function (value, key, map) {
        item = item.replace(new RegExp(key,"igm"), value);
    });
	$('.'+item_class).last().after(item);
	item_click('weui-swiped-btn', func);
	func();
}
 
function area_list_click(name){
    var m = new Map();
	m.set('#name', name);
	item_append('area-item-template', 'area-btn', 'select-area-item', m, area_number);
} 

function professional_list_click(name){
    var m = new Map();
	m.set('#name', name);
	item_append('professional-item-template', 'professional-btn', 'select-professional-item', m, professional_number);
} 

Zepto(function($){
  
  item_click('area-btn', area_number);
  item_click('professional-btn', professional_number);
  $('#area-list').on('click', function(e){
        if(get_area_number() >= 6) return;
		weui.actionSheet([
		{
			label: '北京',
			onClick: function () {
				console.log('北京');
				area_list_click('北京');
			}
		}, {
			label: '上海',
			onClick: function () {
				console.log('上海');
				area_list_click('上海');
			}
		}, {
			label: '广州',
			onClick: function () {
				console.log('广州');
				area_list_click('广州');
			}
		}, {
			label: '山东',
			onClick: function () {
				console.log('山东');
				area_list_click('山东');
			}
		}, {
			label: '深圳',
			onClick: function () {
				console.log('深圳');
				area_list_click('深圳');
			}
		}
		], [
			{
				label: '取消',
				onClick: function () {
					console.log('取消');
				}
			}
		], {
			className: 'custom-classname',
			onClose: function(){
				console.log('关闭');
			}
		});    
  });
  
  $('#professional-list').on('click', function(e){
        if(get_area_number() >= 6) return;
		weui.actionSheet([
		{
			label: '电气自动化类',
			onClick: function () {
				console.log('电气自动化类');
				professional_list_click('电气自动化类');
			}
		}, {
			label: '上机械类',
			onClick: function () {
				console.log('机械类');
				professional_list_click('机械类');
			}
		}, {
			label: '计算机类',
			onClick: function () {
				console.log('计算机类');
				professional_list_click('计算机类');
			}
		}, {
			label: '电子商务',
			onClick: function () {
				console.log('电子商务');
				professional_list_click('电子商务');
			}
		}, {
			label: '物联网工程',
			onClick: function () {
				console.log('物联网工程');
				professional_list_click('物联网工程');
			}
		}, {
			label: '哲学类',
			onClick: function () {
				console.log('哲学类');
				professional_list_click('哲学类');
			}
		}
		], [
			{
				label: '取消',
				onClick: function () {
					console.log('取消');
				}
			}
		], {
			className: 'custom-classname',
			onClose: function(){
				console.log('关闭');
			}
		});    
  });
  
  
  
  
  weui.form.checkIfBlur('#reg_form', {
    regexp: {
        IDNUM: /(?:^\d{15}$)|(?:^\d{18}$)|^\d{17}[\dXx]$/,
        VCODE: /^.{4}$/
    }
  });
  
  var elem = $('#formSubmitBtn')
  // observe all clicks inside #content:
  elem.on('click', function(e){ 
        //
		
		//weui.form.showErrorTips({ele: document.getElementById("zhuanyie"),msg: 'empty'});
        //return;
		<!-- weui.form.validate('#reg_form', function (error) { -->
		<!-- if (!error) { -->
			<!-- var loading = weui.loading('提交中...'); -->
			<!-- setTimeout(function () { -->
				<!-- loading.hide(); -->
				<!-- weui.toast('提交成功', 3000); -->
			<!-- }, 1500); -->
		<!-- } -->
		// return true; // 当return true时，不会显示错误
		<!-- }, { -->
		<!-- regexp: { -->
			<!-- IDNUM: /(?:^\d{15}$)|(?:^\d{18}$)|^\d{17}[\dXx]$/, -->
			<!-- VCODE: /^.{4}$/ -->
		<!-- } -->
	<!-- }); -->
	window.location.replace('4.html');
	
  })
  
})
</script>
</body>
</html>